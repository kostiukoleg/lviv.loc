jQuery(document).ready(function(b){function p(){"use strcit";b("body").find("form:not(.in_loop).cart").each(function(){b(this).init_yith_wapo_totals();b(this).find(".variations select").change()});b("body").find(".ywapo_option_description").each(function(){var h=b(this).data("tooltip");if(h){var m=b(this);"use strcit";var k=b('<span class="yith_wccl_tooltip"></span>');k.addClass(yith_wapo_general.tooltip_pos+" "+yith_wapo_general.tooltip_ani);m.append(k.html("<span>"+h+"</span>"))}});b(".ywapo_input_container_color .wp-color-picker").wpColorPicker({change:function(h,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           m){var k=b(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");k.val(m.color.toString());k.change()},clear:function(){var h=b(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");h.val("");h.change()}});b(".ywapo_datepicker").each(function(){b(this).datepicker()})}if("undefined"===typeof yith_wapo_general)return!1;b.fn.init_yith_wapo_totals=function(){function h(a){"use strcit";var c=b(".yith_wapo_groups_container");if("undefined"!=typeof c){var f=
    c.find("input.ywapo_input.ywapo_price_percentage, select.ywapo_input option.ywapo_price_percentage, textarea.ywapo_input.ywapo_price_percentage"),d=0;f.each(function(){var e=b(this);if("undefined"!=typeof e.data("pricetype")&&"fixed"!=e.data("pricetype")){var g=e.closest(".ywapo_input_container");b.ajax({url:yith_wapo_general.wc_ajax_url.toString().replace("%%endpoint%%","yith_wapo_update_variation_price"),type:"POST",data:{variation_id:a.variation_id,variation_price:a.display_price,type_id:e.data("typeid"),
    option_index:e.data("index")},beforeSend:function(){0==d&&("use strcit",c.block({message:"",overlayCSS:{backgroundColor:"#fff",opacity:.6,cursor:"wait"}}))},success:function(a){if(!a.error&&""!=a){e.attr("data-price",a);var l=q(parseFloat(a));g.find("span.amount").html(l);if(""!=e.text()){a=e.text().split("+");if(0<a.length&&(a=a[0]+" + "+l,e.addClass("ywapo_option_price_chaged"),l=e.closest(".ywapo_group_container").find("select").attr("sb"),"undefined"!=typeof l)){var h=e.data("index");b(b("#sbOptions_"+
    l).find("li").get(parseInt(h)+1)).find("a").html(a)}e.html(a)}d++;d==f.length&&("use strcit",c.unblock())}}})}})}}function m(a){var c=!0;a.find(".ywapo_group_container").each(function(){var a=b(this);if("undefined"!=typeof a&&!a.hasClass("ywapo_conditional_hidden")){var d=a.data("type"),e="1"==a.data("requested"),g=!0;switch(d){case "text":case "textarea":case "number":case "file":case "date":case "range":a.find("input.ywapo_input, textarea.ywapo_input").each(function(){""==b(this).val()&&"required"==
b(this).attr("required")?(e=!0,g=!1):""==b(this).val()&&(g=!1)});break;case "color":a.find("input.ywapo_input_color").each(function(){""==b(this).val()&&(g=!1)});break;case "select":g=""!=a.find("select.ywapo_input").val();break;case "labels":g=0<a.find(".ywapo_input_container_labels.ywapo_selected").length;break;case "checkbox":if(e){d=a.find(".ywapo_input").length;var l=a.find(".ywapo_input:checked").length;g=0<d&&d==l}else a.find(".ywapo_input").each(function(){b(this).is(":checked")||"required"!=
b(this).attr("required")||(e=!0,g=!1)});break;case "radio":g=!1,a.find("input.ywapo_input").each(function(){b(this).is(":checked")&&(g=!0)})}e&&!g?(c=!1,a.addClass("ywapo_miss_required")):a.removeClass("ywapo_miss_required")}});c||b("html, body").animate({scrollTop:b("#yith_wapo_groups_container").offset().top},2E3);return c}function k(a,c){var f=c.data("type"),d=!1;if("select"==f||"radio"==f)d=""!=a.val()?!0:!1;else switch(f){case "checkbox":c.find('input[type="checkbox"].ywapo_input').each(function(){b(this).is(":checked")&&
(d=!0)});break;case "labels":var e=0;c.find('input[type="hidden"].ywapo_input').each(function(){if(""!=b(this).val())return e++,!0});d=0<e;break;case "text":case "textarea":case "number":case "file":case "color":case "date":case "range":c.find("input.ywapo_input").each(function(){""!=b(this).val()&&(d=!0)});break;case "textarea":c.find("textarea.ywapo_input").each(function(){""!=b(this).val()&&(d=!0)})}d&&c.removeClass("ywapo_miss_required");return d}function p(a,c,f){"use strcit";var d=f.data("id");
    if("undefined"!=typeof d){var e=k(b(c),f);a.find(".ywapo_group_container").each(function(){var a=b(this).closest(".ywapo_group_container");if("undefined"!=typeof a){var c=a.data("id");if(d!=c&&(c=a.data("condition"),""!=c))if(c=c.toString().split(","),t(c)){if(!a.hasClass("ywapo_conditional_hidden"))return a.addClass("ywapo_conditional_hidden"),r(a),!0}else 0==b.inArray(d.toString(),c)&&(e?(a.removeClass("ywapo_conditional_hidden"),u(a)):(a.addClass("ywapo_conditional_hidden"),r(a)))}})}}function u(a){"use strcit";
    a.find("input, select, textarea").each(function(){b(this).removeAttr("disabled");b(this).change()})}function r(a){"use strcit";a.find("input, select, textarea").each(function(){b(this).attr("disabled","disabled")})}function t(a){var c=!1;b(".yith_wapo_groups_container").find(".ywapo_group_container").each(function(){var f=b(this).data("id");0==b.inArray(f.toString(),a)&&b(this).hasClass("ywapo_conditional_hidden")&&(c=!0)});return c}function v(a){var c=0;a.find('.ywapo_input:checked, select.ywapo_input option:selected, input[type="text"].ywapo_input, input[type="number"].ywapo_input, input[type="file"].ywapo_input, input[type="color"].ywapo_input, input[type="date"].ywapo_input,input[type="hidden"].ywapo_input ,textarea.ywapo_input').each(function(){var a=
    b(this).closest(".ywapo_group_container");if("undefined"!=typeof a&&!a.hasClass("ywapo_conditional_hidden")){var d=!1;switch(a.data("type")){case "text":case "textarea":case "number":case "file":case "color":case "date":case "labels":""!=b(this).val().trim()&&(d=!0);break;default:d=!0}d&&(a=b(this).data("price"),"undefined"!=typeof a&&0<=a&&(c+=parseFloat(a)))}});return c}function q(a){return accounting.formatMoney(a,{symbol:yith_wapo_general.currency_format_symbol,decimal:yith_wapo_general.currency_format_decimal_sep,
    thousand:yith_wapo_general.currency_format_thousand_sep,precision:yith_wapo_general.currency_format_num_decimals,format:yith_wapo_general.currency_format})}b(this).on("change",".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea,  input.qty",function(a){a=b(this);b(this).trigger("yith-wapo-product-option-conditional",a);b(this).trigger("yith-wapo-product-option-update")});b(this).on("found_variation",function(a,c){b(this);var f=b(".yith_wapo_group_total"),
    d=0;"undefined"!==typeof c.display_price?d=c.display_price:b(c.price_html).find(".amount:last").size()&&(b(".cart"),d=b(c.price_html).find(".amount:last").text(),d=q(d));f.data("product-price",d);h(c);b(this).trigger("yith-wapo-product-option-update")});b(this).on("yith-wapo-product-option-update",function(){var a=b(this),c=b(".yith_wapo_group_total"),f=v(a);if(0<f){var d=a.find("input.qty").size()?parseFloat(a.find("input.qty").val()):1;f*=d;var e=b(".yith-wcpb-product-bundled-items");a=a.find(".single_variation");
    "undefined"!=typeof a&&0==e.length&&a.after(c);var g=q(f);c=b(".yith_wapo_group_total");e=parseFloat(c.data("product-price"));var h=c.find(".yith_wapo_group_option_total span.price");a=c.find(".yith_wapo_group_final_total span.price");h.html(g);d=q(e*d+f);a.html(d);c.fadeIn();b(document).trigger("yith_wapo_product_price_updated",[e+f])}else c.fadeOut()});b(this).on("click",".ywapo_input_container.ywapo_input_container_labels",function(a){a=b(this).find('input[type="hidden"]');if(""!=a.val())a.val(""),
    b(this).removeClass("ywapo_selected");else{var c=b(".ywapo_input_container.ywapo_input_container_labels");c.removeClass("ywapo_selected");c.find('input[type="hidden"]').val("");b(this).addClass("ywapo_selected");a.val(a.data("index"))}b(this).trigger("yith-wapo-product-option-conditional",a);b(this).trigger("yith-wapo-product-option-update")});b(this).on("yith-wapo-product-option-conditional",function(a,c){var f=b(c).closest(".ywapo_group_container");p(b(this),c,f)});b(this).on("click",".single_add_to_cart_button",
    function(a){a=b(this).closest("form.cart");yith_wapo_general.do_submit=m(a);return yith_wapo_general.do_submit});b(document).on("yith_ywraq_action_before",function(){n=b("form.cart");yith_wapo_general.do_submit=m(n);return yith_wapo_general.do_submit});"use strcit";var n=b(this);n.find(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea").each(function(){n.trigger("yith-wapo-product-option-conditional",b(this))});n.trigger("yith-wapo-product-option-update")};
    p();b(document).on("qv_loader_stop yit_quick_view_loaded",function(){p()})});